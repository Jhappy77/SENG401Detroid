package main;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.logging.FileHandler;
import java.util.logging.Logger;

import engine.Detroid;
import tuning.GamePlayOptimizer;
import tuning.OptimizerEngines;

public class SearchTunerLauncher {

final static int CONCURRENCY = 3;
	
	public static void main(String[] args) throws FileNotFoundException, IOException {
		OptimizerEngines[] engines = new OptimizerEngines[CONCURRENCY];
		for (int i = 0; i < CONCURRENCY; i++)
			engines[i] = new OptimizerEngines(new Detroid(), new Detroid(), new Detroid());
		Logger logger = Logger.getAnonymousLogger();
		logger.addHandler(new FileHandler("log", true));
		double[] initProbVector = new double[] { 0.926320143953776, 0.6356039428314678, 0.019412555017567782, 0.7979729134734703, 0.9624056040607933, 0.9153275606588058, 0.5042205563318494, 0.9283428836088481, 0.9796503706132057, 0.0022865600082614796, 0.3817303541001587, 0.004438894867594454, 0.9987327756608214, 0.5317390994711748, 0.5923977560798125, 0.0017384999473058994, 0.05735998273045429, 0.04231313395993921, 0.1936941194493745, 0.39328803575389093, 0.8252480685880573, 0.596029180031887, 0.5105187349881718, 0.016249013927153094, 0.999827392251036, 0.4378244831337306, 0.10468961072043388, 0.04132319996673963, 0.389265484326641, 0.28074302689609826, 0.20069043776311898, 7.281616252075222E-4, 0.3003720082511206, 0.283205407455502, 0.9711263440622027, 0.8498053269571658, 0.9897179753317796, 0.5658910032756208, 0.24097291449691627, 0.9658071794637697, 0.7995427569525755, 0.7075707653773344, 0.8981613526497504, 0.9810293816882387, 0.20471833464531727, 0.6797612649256154, 0.15859274034974163, 0.024263458605335738, 0.006929066919327844, 0.9962195427636638, 0.16066888904305207, 0.42104004901257, 0.38410588351622416, 0.045291593905620944, 0.7337597833212635, 0.8536427387966072, 0.04778653166415011, 0.7667493740317848, 0.07906830730734997, 0.40145375800104294, 0.12220663623689723, 0.3033463110165639, 0.038165904165267044, 0.6162254063628018, 0.8936348614367084, 0.6774742910730004, 0.37414461492510526, 0.9866193456754648, 0.025112813181618922, 0.9607178685999285, 0.9545112494028155, 0.9879896399592069, 0.4748262313029481, 0.05712229592225527, 1.612813028598285E-4, 0.05463961634002744, 0.9876060449778991, 0.7967886694360953, 0.3137800289489176, 6.34623593668755E-4, 0.005625364217462881, 0.07125543391156897, 0.002181416161642659, 0.8151652138596363, 0.9182469498895016, 0.25047697500871713, 0.803587575952757, 0.04316651548782556, 0.2888275232843872, 0.642764859146735, 0.7756232326196678, 0.26625333464317874, 0.8210418516745498, 0.10266593041666162, 0.7185696846927626, 0.9838694506862034, 0.9951295073870747, 0.2199012634543545, 0.35712307280299416, 0.14991173758604928, 0.003180649508236369, 0.2903939777231238, 0.4735059340490268, 0.5916853838991966, 0.17725767863638878, 0.00507070124871603, 0.3779812686410125, 0.29140189364673297, 0.7812265090605308, 0.639259081242282, 0.6785509103578408, 0.01768212891306819, 0.32268767241482327, 0.054736046007738334, 0.4091668022836168, 0.7098967292728549, 8.719570795854379E-5, 0.01451046287932906, 0.0057158497837346564, 0.09751421029420443, 0.3002533816893345, 0.9869678600604345, 0.8826872135322283, 0.9998826715506302, 0.9349373333313261, 0.9998076936326006, 2.0811113960367213E-4, 0.18357916422071732, 0.42882815899499904, 0.8176439915916385 };
		GamePlayOptimizer optimizer = new GamePlayOptimizer(engines, 102, 2000, 20, initProbVector, 64, logger);
		optimizer.optimize();
		try {
			optimizer.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}
