package main;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.logging.FileHandler;
import java.util.logging.Logger;

import engine.Detroid;
import tuning.GamePlayOptimizer;
import tuning.OptimizerEngines;

public class SearchTunerLauncher {

final static int CONCURRENCY = 4;
	
	public static void main(String[] args) throws FileNotFoundException, IOException {
		OptimizerEngines[] engines = new OptimizerEngines[CONCURRENCY];
		for (int i = 0; i < CONCURRENCY; i++)
			engines[i] = new OptimizerEngines(new Detroid(), new Detroid(), new Detroid());
		Logger logger = Logger.getAnonymousLogger();
		logger.addHandler(new FileHandler("log", true));
		double[] initProbVec = new double[] { 0.49092183964991687, 0.7015613222130767, 0.48236645030247527, 0.6829247011250631, 0.8205073741925718, 0.31757285361095977, 0.46274404632762367, 0.7691982099539185, 0.627546399845012, 0.6517800386798394, 0.4721577285189096, 0.22393026681519027, 0.4725224402555054, 0.8158390309707815, 0.3160227035113763, 0.4134024798224756, 0.42162826634228867, 0.4691630816286557, 0.7508979991925718, 0.11917971203319774, 0.9030743263602473, 0.6376771237271379, 0.6335748734779594, 0.40884289351305947, 0.6858128154115674, 0.5467833996194738, 0.28206864043945035, 0.2150310524495178, 0.1248167501121524, 0.5828517464630009, 0.5038412714343933, 0.7869023382475924, 0.6769743907368496, 0.3813026561698044, 0.3936398321328227, 0.5401695860005233, 0.41765371096770565, 0.7524468000275437, 0.31757149777869254, 0.6535338828527231, 0.8629951386891849, 0.6860789033020671, 0.3983179478325103, 0.4459554725815046, 0.45667734050655684, 0.09756179267345982, 0.7901458774854553, 0.7381582796251853, 0.5341392876949403, 0.33129900479555796, 0.47734241814940775, 0.23857036988334113, 0.6271793917499597, 0.9172224954723046, 0.4987103428525364, 0.2000035746814249, 0.5696885783287376, 0.14778779335711315, 0.7288562654981139, 0.21190326835164822, 0.32462669383465864, 0.2557959098469451, 0.5465702535756466, 0.718263925496309, 0.3413186753705324, 0.8017295097213649, 0.5228975180466394, 0.6719409701091762, 0.22495387580742826, 0.6940986863917995, 0.8695655059054872, 0.5764564077553813, 0.36595346511733395, 0.3165011434483871, 0.5674813389366801, 0.8341955659967352, 0.6103932814974253, 0.7175766989740793, 0.34884438480320334, 0.20622520196879934, 0.5674196535316046, 0.7713681397549648, 0.42989901385310914, 0.8697540351901776, 0.23003773836241928, 0.28712061096408215, 0.5573370470291124, 0.40164824840288715, 0.31437742230854077, 0.9148574239143704, 0.6477700006535887, 0.6171838342622598, 0.2981708674019954, 0.7085218806945149, 0.5783903990259652, 0.6659374451853883, 0.6372273238534336, 0.2673478170276955, 0.3434325007849996, 0.5757581820006799, 0.305922870762923, 0.1829206483627546, 0.49222994158225464, 0.7172397447863692, 0.5739470684992152, 0.0827775045276954, 0.2989457508074282, 0.7101230489143703, 0.34515865488938596, 0.37876356996306815, 0.6305295525498125, 0.34402848823513776, 0.109316069446848, 0.9191145527186521, 0.4798151503950827, 0.8408955595644619, 0.5541677468187183, 0.13551018349831526, 0.4000371875947661, 0.2513375044019261, 0.22485014098775427, 0.4134625304842662, 0.6273238499275476, 0.412162704759239, 0.2899992491637533, 0.4935612392640752, 0.7499677762043165, 0.3446491972807724, 0.306071138462939, 0.10091701940876452, 0.5846296764797861, 0.6539591492744692, 0.37584070348151605, 0.08757522111664758, 0.6538030649784734, 0.6577141345054383, 0.2928809152594311, 0.5141505555655371, 0.5342712770195243, 0.8205073741925718, 0.5538304362254275, 0.4647104624168373, 0.613356232727289, 0.8934847131342356, 0.4335264596725541, 0.8055671498837789, 0.6033533798269076, 0.2406519395943796, 0.2299800825269261, 0.37928154203819053 };
		GamePlayOptimizer optimizer = new GamePlayOptimizer(engines, 40, 1000, 20, initProbVec, 48, logger);
		optimizer.optimize();
		try {
			optimizer.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}
